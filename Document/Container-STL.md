# Container 정리 

## 1. 개요 

보통 c++에서 자주 사용되는 container에는 vector, list, deque가 있다. 이외에도 stack, queue, arrayList, linkedArrayList 등등 많지만, 대표적인 세 가지에 대해서 알아본다. 

<br>

## 2. vector 

### 2.1 정리 

vector는 일반적인 배열처럼 개체들을 연속적인 메모리 공간에 저장한다. 즉 iterator 뿐만 아니라 position index(operator [])로도 접근이 가능하다는 것이다. 

vector는 동적으로 확장/축소가 가능한 dynamic array로 구현되어 있다. 

### 2.2 장점

1. 개별 원소들은 position index로 접근이 가능하다. (상수 복잡도)
2. 원소를 컨테이너의 끝에 삽입/제거 하는 것이 빠르다. (상수-아모타이즈드 복잡도)
3. 어떠한 순서로도 원소들을 순회할 수 있다. (random access iterating 가능)
4. deque, list에 비해 개별 원소에 대한 접근 속도와 컨테이너 끝에서 삽입/제거 하는 속도가 제일 빠르다. 

### 2.3 단점 

컨테이너의 끝 위치가 아닌 곳에서 삽입/제거 수행시 그 성능은 deque/list에 비해 현저히 떨어진다. 

### 2.4 주의 

동적으로 컨테이너의 크기가 확장/축소되는 것이 편하기는 하나, 확장시에 reallocation의 비용이 크다. capacity를 확장 시켜줄 수 있는 적절한 크기의 reserve로 인한 메모리 확보가 중요! 

<br>

## 3. deque ( double ended queue)

### 3.1 정리 

deque는 어느 정도 vector와 유사성이 있는 듯 하면서도 상당히 다른 점이 있는 시퀸스 컨테이너이다. 



### 3.2 장점

1. 개별 원소들을 position index로 접근이 가능하다. 
2. 원소를 컨테이너 끝 분 아니라, 앞에서도 삽입/제거 하는 것이 빠르다. 
3. 어떠한 순서로도 원소들을 순회할 수 있다. 

### 3.3 단점

컨테이너의 시작 / 끝 위치가 아닌 곳에서 삽입/제거 수행시 그 성능이 list에 비해 현저히 떨어진다.

### 3.4 다른 컨테이너와의 차이점 

vector는 capacity의 확장을 위해 자동적으로 reallocatng을 발생시킨다. 하지만 deque의 경우 일정 크기를 가지는 chunk 단위로 확장되는 방식을 가진다. 

> capacity 관리에 대한 deque의 장점 : 저장 원소가 많고 메모리 할당량이 큰 경우에 vector에 비해 확장 비용이 절감된다. ( 전체가 재할당되기 보다, 늘어나야 될 크기 만큼만의 chunk가 하나 더 할당되면 되기 때문이다) 
>
> 단점 : 컨테이너 처음부터 끝까지 연속 메모리 공간이 아니므로, vector에서 가능했던 원소들간의 포인터 연산이 불가능하다. 

<br>

## 4. list 

### 4.1 정리 

list는 doubly linked list로 구현되어 있다. 

### 4.2 장점 

1. 컨테이너의 어느 위치에서도 삽입/제거가 빠르다. (상수 복잡도)
2. 원소들의 컨테이너 내 순서 이동이 빠르다. (상수 복잡도) 
3. vector와 deque와 다르게 list의 각장 큰 장점은 컨테이너 내 어느 위치에서도 원소의 삽입 / 제거가 빠르다는 것이다. 

### 4.3 단점 

1. 원소의 position index로 직접 접근이 불가능하다. 

> 특정 원소에 접근 하려면 처음이나 끝에서부터 선형 탐색을 해야만 한다. 

2. 컨테이너 내 원소 순회는 forward / reverse 순회만 가능하며, 느리다. 

### 4.4 결론 

컨테이너 내 어느 위치에서도 삽입 / 제거가 빠르다는 큰 장점이 있다. 



> 참조 : <http://egloos.zum.com/sweeper/v/2817817>

